const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
let boxes = [];
let targets = [];
function getRandomColor() {
 const colors = ["#FF6666", "#66FF66", "#6666FF", "#FFCC66", "#66FFFF"];
 return colors[Math.floor(Math.random() * colors.length)];
}
function getRandomSize() {
 return Math.floor(Math.random() * 40) + 40;
}
function createBox() {
 const size = getRandomSize();
 return {
   x: Math.random() * (canvas.width - size),
   y: Math.random() * (canvas.height - size),
   size,
   color: getRandomColor(),
   isDragging: false
 };
}
function createTarget(size, color) {
 return {
   x: Math.random() * (canvas.width - size),
   y: Math.random() * (canvas.height - size),
   size,
   color
 };
}
function generateGameObjects() {
 boxes = [];
 targets = [];
 for (let i = 0; i < 3; i++) {
   const box = createBox();
   const target = createTarget(box.size, box.color);
   boxes.push(box);
   targets.push(target);
 }
}
function draw() {
 ctx.clearRect(0, 0, canvas.width, canvas.height);
 // Draw targets
 targets.forEach(t => {
   ctx.fillStyle = t.color;
   ctx.globalAlpha = 0.3;
   ctx.fillRect(t.x, t.y, t.size, t.size);
   ctx.globalAlpha = 1;
 });
 // Draw boxes
 boxes.forEach(b => {
   ctx.fillStyle = b.color;
   ctx.fillRect(b.x, b.y, b.size, b.size);
 });
}
let selectedBox = null;
let offsetX, offsetY;
canvas.addEventListener("mousedown", (e) => {
 const rect = canvas.getBoundingClientRect();
 const mx = e.clientX - rect.left;
 const my = e.clientY - rect.top;
 boxes.forEach(box => {
   if (mx >= box.x && mx <= box.x + box.size &&
       my >= box.y && my <= box.y + box.size) {
     selectedBox = box;
     offsetX = mx - box.x;
     offsetY = my - box.y;
     box.isDragging = true;
   }
 });
});
canvas.addEventListener("mouseup", () => {
 if (selectedBox) {
   checkMatch(selectedBox);
   selectedBox.isDragging = false;
   selectedBox = null;
 }
});
canvas.addEventListener("mousemove", (e) => {
 if (selectedBox && selectedBox.isDragging) {
   const rect = canvas.getBoundingClientRect();
   const mx = e.clientX - rect.left;
   const my = e.clientY - rect.top;
   selectedBox.x = mx - offsetX;
   selectedBox.y = my - offsetY;
   draw();
 }
});
function checkMatch(box) {
 targets.forEach((target, i) => {
   if (
     Math.abs(box.x - target.x) < 20 &&
     Math.abs(box.y - target.y) < 20 &&
     box.color === target.color &&
     Math.abs(box.size - target.size) < 10
   ) {
     // Correct match
     boxes.splice(i, 1, createBox());
     targets.splice(i, 1, createTarget(box.size, box.color));
   }
 });
}
function restartGame() {
 generateGameObjects();
 draw();
}
generateGameObjects();
draw();










